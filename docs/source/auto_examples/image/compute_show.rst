
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/image/compute_show.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_image_compute_show.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_image_compute_show.py:


Show layers of the ImageContainer
---------------------------------

This example shows how to use :meth:`squidpy.im.ImageContainer.show`.

This function is useful to visualize statically different layers of the
:class:`squidpy.im.ImageContainer` class.

.. seealso::

    - See :ref:`sphx_glr_auto_examples_image_compute_crops.py` and
      :ref:`sphx_glr_auto_examples_image_compute_smooth.py` for additional
      examples on methods of the :class:`squidpy.im.ImageContainer`.

.. GENERATED FROM PYTHON SOURCE LINES 17-19

.. code-block:: default

    import squidpy as sq








.. GENERATED FROM PYTHON SOURCE LINES 20-21

Load the Mibitof dataset.

.. GENERATED FROM PYTHON SOURCE LINES 21-23

.. code-block:: default

    adata = sq.datasets.mibitof()





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

      0%|          | 0.00/19.3M [00:00<?, ?B/s]      0%|          | 24.0k/19.3M [00:00<01:50, 183kB/s]      0%|          | 56.0k/19.3M [00:00<01:33, 217kB/s]      1%|          | 120k/19.3M [00:00<00:59, 338kB/s]       1%|1         | 256k/19.3M [00:00<00:31, 625kB/s]      3%|2         | 544k/19.3M [00:00<00:16, 1.19MB/s]      6%|5         | 1.10M/19.3M [00:00<00:08, 2.29MB/s]     12%|#1        | 2.23M/19.3M [00:00<00:04, 4.41MB/s]     23%|##3       | 4.50M/19.3M [00:01<00:01, 8.58MB/s]     37%|###6      | 7.09M/19.3M [00:01<00:01, 12.1MB/s]     51%|#####1    | 9.91M/19.3M [00:01<00:00, 15.1MB/s]     65%|######5   | 12.6M/19.3M [00:01<00:00, 16.8MB/s]     80%|########  | 15.5M/19.3M [00:01<00:00, 18.4MB/s]     95%|#########4| 18.3M/19.3M [00:01<00:00, 19.4MB/s]    100%|##########| 19.3M/19.3M [00:01<00:00, 11.4MB/s]




.. GENERATED FROM PYTHON SOURCE LINES 24-25

We can briefly visualize the data to understand the type of images we have.

.. GENERATED FROM PYTHON SOURCE LINES 25-34

.. code-block:: default

    sq.pl.spatial_segment(
        adata,
        library_id=["point16", "point23", "point8"],
        seg_cell_id="cell_id",
        color="Cluster",
        library_key="library_id",
        title=["point16", "point23", "point8"],
    )




.. image-sg:: /auto_examples/image/images/sphx_glr_compute_show_001.png
   :alt: point16, point23, point8
   :srcset: /auto_examples/image/images/sphx_glr_compute_show_001.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 35-38

We have three different tissue samples. We also have segmentation masks for each tissue sample.
Let's extract the image from the :class:`anndata.AnnData` object and create a
:class:`squidpy.im.ImageContainer` object.

.. GENERATED FROM PYTHON SOURCE LINES 38-46

.. code-block:: default

    imgs = []
    for library_id in adata.uns["spatial"].keys():
        img = sq.im.ImageContainer(adata.uns["spatial"][library_id]["images"]["hires"], library_id=library_id)
        img.add_img(adata.uns["spatial"][library_id]["images"]["segmentation"], library_id=library_id, layer="segmentation")
        img["segmentation"].attrs["segmentation"] = True
        imgs.append(img)
    img = sq.im.ImageContainer.concat(imgs)








.. GENERATED FROM PYTHON SOURCE LINES 47-48

We can visualize each image of the object with :meth:`squidpy.im.ImageContainer.show`.

.. GENERATED FROM PYTHON SOURCE LINES 48-50

.. code-block:: default

    img.show("image")




.. image-sg:: /auto_examples/image/images/sphx_glr_compute_show_002.png
   :alt: image, library_id:point16, image, library_id:point23, image, library_id:point8
   :srcset: /auto_examples/image/images/sphx_glr_compute_show_002.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 51-52

:meth:`squidpy.im.ImageContainer.show` also allows to overlay the results of segmentation.

.. GENERATED FROM PYTHON SOURCE LINES 52-53

.. code-block:: default

    img.show("image", segmentation_layer="segmentation", segmentation_alpha=0.5)



.. image-sg:: /auto_examples/image/images/sphx_glr_compute_show_003.png
   :alt: image, library_id:point16, image, library_id:point23, image, library_id:point8
   :srcset: /auto_examples/image/images/sphx_glr_compute_show_003.png
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  25.416 seconds)

**Estimated memory usage:**  330 MB


.. _sphx_glr_download_auto_examples_image_compute_show.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: compute_show.py <compute_show.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: compute_show.ipynb <compute_show.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
